<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button></ion-back-button>
        </ion-buttons>
        <ion-title>Delivery View</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content *ngIf="isLoading == false">

        <ion-item-group>
            <ion-item-divider style="background-color: yellow;">
                <ion-label>Customer Details</ion-label>
            </ion-item-divider>
            <ion-item>
                <ion-label>Com/Agent:</ion-label>
                <ion-label style="padding-left: 1px;">{{deliveryInfo.com}}</ion-label>
            </ion-item>
            <ion-item>
                <ion-label>Name : </ion-label>
                <ion-label>{{deliveryInfo.cun}}</ion-label>
            </ion-item>
            <ion-item>
                <ion-label>Address : </ion-label>
                <ion-label style="padding-right: 1px;">{{deliveryInfo.dea}}</ion-label>
            </ion-item>
            <ion-item>
                <ion-label>Building : </ion-label>
                <ion-label>{{deliveryInfo.deb}}</ion-label>
            </ion-item>
            <ion-item>
                <ion-label>Lift/Lobby : </ion-label>
                <ion-label>{{deliveryInfo.lil}}</ion-label>
            </ion-item>
            <ion-item>
                <ion-label>Unit : </ion-label>
                <ion-label>{{deliveryInfo.dun}}</ion-label>
                <ion-label>Region : </ion-label>
                <ion-label>{{deliveryInfo.ren}}</ion-label>
            </ion-item>
            <ion-item>
                <ion-label>Postal : </ion-label>
                <ion-label>{{deliveryInfo.dpc}}</ion-label>
                <!-- <ion-button shape="round" fill="outline" color="Tertiary" class="ion-float-right" position="bottom">MAP
                </ion-button> -->
            </ion-item>
            <ion-item>
                <ion-label>Notes : </ion-label>
                <ion-label>{{deliveryInfo.den}}</ion-label>
            </ion-item>
            <ion-item>
                <ion-label>Number 1: </ion-label>
                <ion-label>{{deliveryInfo.cn1}}</ion-label>
                <ion-button shape="round" fill="outline" color="Tertiary" class="ion-float-right" position="bottom">Call
                </ion-button>
                <ion-button shape="round" fill="outline" color="Tertiary" class="ion-float-right" position="bottom">SMS
                </ion-button>
            </ion-item>
            <ion-item>
                <ion-label>Number 2 : </ion-label>
                <ion-label>{{deliveryInfo.cn2}}</ion-label>
                <ion-button shape="round" fill="outline" color="Tertiary" class="ion-float-right" position="bottom">Call
                </ion-button>
                <ion-button shape="round" fill="outline" color="Tertiary" class="ion-float-right" position="bottom">SMS
                </ion-button>
            </ion-item>
            <ion-item>
                <ion-label>Alt name : </ion-label>
                <ion-label>{{deliveryInfo.na2}}</ion-label>
            </ion-item>
            <ion-item>
                <ion-label>credit : </ion-label>
                <ion-label>{{deliveryInfo.cca}}</ion-label>
            </ion-item>
            <ion-item>
                <ion-label>Email : </ion-label>
                <ion-input type="email" [(ngModel)]="customerEmail" pattern="[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})"></ion-input>
                <ion-button shape="round" fill="outline" color="Tertiary" class="ion-float-right" position="bottom" (click)="updateMyEmail()">Update
                </ion-button>
            </ion-item>
        </ion-item-group>
    
        <ion-item-group>
            <ion-item-divider style="background-color: yellow;">
                <ion-label>Delivery Details</ion-label>
            </ion-item-divider>
            <ion-item>
                <ion-label>Job type:</ion-label>
                <ion-label style="padding-left: 1px;">{{deliveryInfo.coldel_type}}</ion-label>
            </ion-item>
            <!-- <ion-item>
                <ion-label>Date : </ion-label>
                <ion-label>{{deliveryInfo.ded}}</ion-label>
            </ion-item> -->
            <ion-item>
                <ion-label>Date : </ion-label>
                <ion-datetime  min="2019-12-12" max="2100-12-31"  displayFormat="DD-MMMM-YYYY" [(ngModel)]="today"></ion-datetime>
            </ion-item>
            <ion-item>
                <ion-label>Time : </ion-label>
                <!-- <ion-select  cancelText="Dismiss"[(ngModel)]="selectedtime" (ngModelChange)="getTime(selectedtime)" >
                    <div *ngFor="let selectedtime of timeslots; let i = index">
                            <ion-select-option value="{{ selectedtime }}">{{ selectedtime }}</ion-select-option>
                    </div>
                </ion-select> -->
                <ion-select [(ngModel)]="selectedtime" name="selectedtime" multiple="false" [placeholder]="selectedtime ? selectedtime : 'Tap to select..'"
                         (ionChange)="getTime(selectedtime)" required >
                         <ion-select-option *ngFor="let selectedtime of timeslots; let i = index" value="{{ selectedtime }}">
                            {{ selectedtime }}
                        </ion-select-option>
                </ion-select>
            </ion-item>
            <ion-item *ngIf="driverInfo.postpone == 1" >
                    <ion-label>Reason to postpone : </ion-label>
                    <ion-input [(ngModel)]="reasonofpostpone"></ion-input>
            </ion-item>
            <ion-item>
                <ion-button *ngIf="driverInfo.postpone == 1" shape="round" fill="outline" color="Tertiary" class="ion-float-right" (click)="postphone()" position="bottom">Postpone
                </ion-button>
            </ion-item>
            <ion-item>
                <ion-label>instruction : </ion-label>
                <ion-textarea value="{{deliveryInfo.noe}}"></ion-textarea>
            </ion-item>
            <ion-item>
                <ion-label>Updated by : </ion-label>
                <ion-label>{{deliveryInfo.uby}}</ion-label>
            </ion-item>
            <ion-item>
                <ion-label>Update on : </ion-label>
                <ion-label >{{deliveryInfo.uon}}</ion-label>
            </ion-item>
        </ion-item-group>
    
        <ion-row>
                <ion-col>
                    <ion-button expand="full" shape="round" color="warning" position="bottom" (click)="makePayment()">MAKE
                        PAYMENT</ion-button>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col>
                    <ion-button expand="full" shape="round" color="warning" position="bottom" (click)="viewItems()">VIEW ITEMS
                    </ion-button>
                </ion-col>
            </ion-row>
    
    </ion-content>